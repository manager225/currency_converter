(function(){"use strict";var e={3828:function(e,t,n){var r=n(3751),o=n(641),a=n(953),u=n.p+"img/logo.8ca1293d.png",s=n(5220);const c=e=>((0,o.Qi)("data-v-02a89e3d"),e=e(),(0,o.jt)(),e),l={class:"header"},i=c((()=>(0,o.Lk)("img",{src:u,class:"header__logo",alt:"logo"},null,-1))),v={class:"header__nav"};var p={__name:"Header",setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("header",l,[(0,o.bF)((0,a.R1)(s.Wk),{to:{name:"Home"}},{default:(0,o.k6)((()=>[i])),_:1}),(0,o.Lk)("nav",v,[(0,o.bF)((0,a.R1)(s.Wk),{class:"header__nav-link",to:{name:"Home"}},{default:(0,o.k6)((()=>[(0,o.eW)("Главная")])),_:1}),(0,o.bF)((0,a.R1)(s.Wk),{class:"header__nav-link",to:{name:"Convert"}},{default:(0,o.k6)((()=>[(0,o.eW)("Конвертация")])),_:1})])]))}},d=n(6262);const f=(0,d.A)(p,[["__scopeId","data-v-02a89e3d"]]);var m=f;const h={id:"app"};var k={__name:"App",setup(e){return(e,t)=>{const n=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",h,[(0,o.bF)(m),(0,o.bF)(n)])}}};const y=k;var b=y,_=n(5615),C=(n(4114),n(33));const g=(0,_.nY)("currency",{state:()=>({baseCurrency:"RUB",rates:{}}),actions:{async fetchRates(){try{const e=await fetch("https://status.neuralgeneration.com/api/currency"),t=await e.json();this.rates={...t},this.persistState()}catch(e){console.error("Ошибка при получении курсов валют:",e)}},persistState(){sessionStorage.setItem("currencyStore",JSON.stringify(this.$state))},hydrate(){const e=sessionStorage.getItem("currencyStore");e&&(this.$state=JSON.parse(e))}}}),L=e=>((0,o.Qi)("data-v-1c921474"),e=e(),(0,o.jt)(),e),w={class:"home"},E=L((()=>(0,o.Lk)("div",{class:"home__title"},"Курсы валют",-1))),F=L((()=>(0,o.Lk)("p",{class:"home__subtitle"},"Выберите валюту для конвертации",-1))),O={class:"rates-container"},x=["onClick"],j={class:"currency"},R={class:"rate"};var U={__name:"Home",setup(e){const t=g(),n=(0,o.EW)((()=>t.rates)),r=(0,s.rd)();(0,o.sV)((()=>{t.fetchRates()}));const a=e=>{const[t,n]=e.split("-");r.push({name:"Convert",query:{from:t.toUpperCase(),to:n.toUpperCase()}})},u=e=>e.toUpperCase().replace("-","/");return(e,t)=>((0,o.uX)(),(0,o.CE)("div",w,[E,F,(0,o.Lk)("div",O,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"rate-card",onClick:e=>a(t)},[(0,o.Lk)("span",j,(0,C.v_)(u(t)),1),(0,o.Lk)("span",R,(0,C.v_)(e),1)],8,x)))),128))])]))}};const X=(0,d.A)(U,[["__scopeId","data-v-1c921474"]]);var I=X;n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);const S={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},W=(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"},null,-1),K=[W];function A(e,t){return(0,o.uX)(),(0,o.CE)("svg",S,K)}const $={},q=(0,d.A)($,[["render",A]]);var H=q;const T=e=>((0,o.Qi)("data-v-65a5f2bd"),e=e(),(0,o.jt)(),e),V={class:"convert"},B=T((()=>(0,o.Lk)("h1",null,"Конвертация валют",-1))),J={class:"conversion-block"},M={class:"currency-input"},Q=T((()=>(0,o.Lk)("label",{for:"fromCurrency"},"Из",-1))),N=["value"],P={class:"currency-input"},z=T((()=>(0,o.Lk)("label",{for:"toCurrency"},"В",-1))),D=["value"];var Y={__name:"Convert",setup(e){const t=(0,s.lq)(),n=g(),u=(0,a.KR)(t.query.from||"RUB"),c=(0,a.KR)(t.query.to||"USD"),l=(0,a.KR)(1),i=(0,a.KR)(0),v=(0,a.KR)([]),p=()=>{const e=Object.keys(n.rates),t=new Set;e.forEach((e=>{const[n,r]=e.toUpperCase().split("-");t.add(n),t.add(r)})),v.value=Array.from(t)};(0,o.sV)((()=>{n.hydrate(),p(),t.query.from&&t.query.to&&y()}));const d=(0,o.EW)((()=>n.rates));let f=null;const m=(0,o.EW)((()=>v.value.filter((e=>e!==c.value)))),h=(0,o.EW)((()=>v.value.filter((e=>e!==u.value)))),k=()=>{const e=`${u.value.toLowerCase()}-${c.value.toLowerCase()}`;return d.value[e]?d.value[e]:(console.error(`Курс для пары ${e} не найден`),null)},y=()=>{const e=k();e&&(i.value=+(l.value*e).toFixed(2))},b=()=>{const e=k();e&&(l.value=+(i.value*(1/e)).toFixed(2))},_=()=>{clearTimeout(f),f=setTimeout(y,300)},L=()=>{clearTimeout(f),f=setTimeout(b,300)},w=()=>{l.value=+l.value.toFixed(2),_()},E=()=>{i.value=+i.value.toFixed(2),L()},F=()=>{const e=u.value;u.value=c.value,c.value=e,_()};return(0,o.wB)([u,c],(()=>{_()})),(e,t)=>((0,o.uX)(),(0,o.CE)("div",V,[B,(0,o.Lk)("div",J,[(0,o.Lk)("div",M,[Q,(0,o.bo)((0,o.Lk)("select",{id:"fromCurrency","onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(m.value,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,C.v_)(e),9,N)))),128))],512),[[r.u1,u.value]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e),type:"number",onInput:w},null,544),[[r.Jo,l.value,void 0,{number:!0}]])]),(0,o.bF)(H,{class:"icon",onClick:F}),(0,o.Lk)("div",P,[z,(0,o.bo)((0,o.Lk)("select",{id:"toCurrency","onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(h.value,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,C.v_)(e),9,D)))),128))],512),[[r.u1,c.value]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),type:"number",onInput:E},null,544),[[r.Jo,i.value,void 0,{number:!0}]])])])]))}};const G=(0,d.A)(Y,[["__scopeId","data-v-65a5f2bd"]]);var Z=G;const ee="/currency_converter",te=[{path:`${ee}/`,name:"Home",component:I},{path:`${ee}/convert`,name:"Convert",component:Z}],ne=(0,s.aE)({history:(0,s.LA)(),routes:te});var re=ne;const oe=(0,_.Ey)();(0,r.Ef)(b).use(oe).use(re).mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var u=1/0;for(i=0;i<e.length;i++){r=e[i][0],o=e[i][1],a=e[i][2];for(var s=!0,c=0;c<r.length;c++)(!1&a||u>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,a<u&&(u=a));if(s){e.splice(i--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[r,o,a]}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/currency_converter/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,u=r[0],s=r[1],c=r[2],l=0;if(u.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var i=c(n)}for(t&&t(r);l<u.length;l++)a=u[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(i)},r=self["webpackChunkexchange"]=self["webpackChunkexchange"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(3828)}));r=n.O(r)})();
//# sourceMappingURL=app.cc78cd7d.js.map